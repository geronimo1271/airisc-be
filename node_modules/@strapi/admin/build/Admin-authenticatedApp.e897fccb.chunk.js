"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[801],{56658:function(N,C,n){n.r(C),n.d(C,{default:function(){return qt}});var e=n(32735),o=n(59407),L=n(33795),O=n.n(L),E=n(20108),S={i8:"4.14.5"},A=n(60505),D=n(90869),x=n(49270),r=n(74512),z=n(97889),V=n(3040),Se=n.n(V),xe=n(74506),Le=n(51968),F=n(15062),v=n(53038),Ae=n(88311),te=n.n(Ae),Re=n(75974),f=n(84642),ne=n(65696),ae=n(83643),Ie=n(14763),T=n(77981),Y=n(91779),se=n(98610),Oe=n(60216),c=n.n(Oe),Z=n(67879),P=n(8471);const De=(0,P.ZP)(f.k)`
  position: fixed;
  z-index: 4;
  inset: 0;
  /* this is theme.colors.neutral800 with opacity */
  background: ${({theme:t})=>`${t.colors.neutral800}1F`};
`,oe=({onClose:t,onSkip:a,children:s,hideSkip:i})=>{const{formatMessage:l}=(0,Z.Z)();return e.createElement(ne.h,null,e.createElement(De,{onClick:t,padding:8,justifyContent:"center"},e.createElement(ae.i,{onEscape:t},e.createElement(f.k,{direction:"column",alignItems:"stretch",background:"neutral0",width:(0,o.Q1)(660),shadow:"popupShadow",hasRadius:!0,padding:4,gap:8,role:"dialog","aria-modal":!0,onClick:d=>d.stopPropagation()},e.createElement(f.k,{justifyContent:"flex-end"},e.createElement(Ie.h,{onClick:t,"aria-label":l({id:"app.utils.close-label",defaultMessage:"Close"}),icon:e.createElement(se.Z,null)})),e.createElement(T.x,{paddingLeft:7,paddingRight:7,paddingBottom:i?8:0},s),!i&&e.createElement(f.k,{justifyContent:"flex-end"},e.createElement(Y.z,{variant:"tertiary",onClick:a},l({id:"app.components.GuidedTour.skip",defaultMessage:"Skip the tour"})))))))};oe.propTypes={children:c().node.isRequired,onClose:c().func.isRequired,onSkip:c().func.isRequired,hideSkip:c().bool.isRequired};var be=oe,y=n(8365),ie=n(25919),k=n(47806),J=n(79348);const je=P.ZP.li`
  list-style: disc;
  &::marker {
    color: ${({theme:t})=>t.colors.neutral800};
  }
`,re=({id:t,defaultMessage:a})=>{const{formatMessage:s}=(0,Z.Z)();return e.createElement(f.k,{direction:"column",alignItems:"stretch",gap:4,paddingBottom:6},s({id:t,defaultMessage:a},{documentationLink:We,b:Ze,p:ke,light:Be,ul:Ge,li:Ue}))},We=t=>e.createElement(y.Z,{as:"a",textColor:"primary600",target:"_blank",rel:"noopener noreferrer",href:"https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest-api.html#api-parameters"},t),Ze=t=>e.createElement(y.Z,{fontWeight:"semiBold"},t),ke=t=>e.createElement(y.Z,null,t),Be=t=>e.createElement(y.Z,{textColor:"neutral600"},t),Ge=t=>e.createElement(T.x,{paddingLeft:6},e.createElement("ul",null,t)),Ue=t=>e.createElement(je,null,t);re.propTypes={id:c().string.isRequired,defaultMessage:c().string.isRequired};var Ne=re,ze=n(13856);const X=({number:t,last:a,type:s})=>e.createElement(T.x,{paddingTop:3,paddingBottom:a?0:3},e.createElement(ze.Z,{number:t,type:s}));X.defaultProps={number:void 0,last:!1,type:""},X.propTypes={number:c().number,last:c().bool,type:c().string};var le=X;const w=({title:t,content:a,cta:s,onCtaClick:i,sectionIndex:l,stepIndex:d,hasSectionAfter:g})=>{const{formatMessage:u}=(0,Z.Z)(),h=l>0,p=d>0,M=l+1;return e.createElement(e.Fragment,null,e.createElement(f.k,{alignItems:"stretch"},e.createElement(f.k,{marginRight:8,justifyContent:"center",minWidth:(0,o.Q1)(30)},h&&e.createElement(J.Z,{type:k.hx,minHeight:(0,o.Q1)(24)})),e.createElement(y.Z,{variant:"sigma",textColor:"primary600"},u({id:"app.components.GuidedTour.title",defaultMessage:"3 steps to get started"}))),e.createElement(f.k,null,e.createElement(f.k,{marginRight:8,minWidth:(0,o.Q1)(30)},e.createElement(le,{number:l+1,type:p?k.hx:k.lW})),e.createElement(y.Z,{variant:"alpha",fontWeight:"bold",textColor:"neutral800",as:"h3",id:"title"},u(t))),e.createElement(f.k,{alignItems:"stretch"},e.createElement(f.k,{marginRight:8,direction:"column",justifyContent:"center",minWidth:(0,o.Q1)(30)},g&&e.createElement(e.Fragment,null,e.createElement(J.Z,{type:k.hx}),p&&e.createElement(le,{number:M+1,type:k.lW,last:!0}))),e.createElement(T.x,null,e.createElement(Ne,{...a}),s&&(s.target?e.createElement(o.Qj,{endIcon:e.createElement(ie.Z,null),onClick:i,to:s.target},u(s.title)):e.createElement(Y.z,{endIcon:e.createElement(ie.Z,null),onClick:i},u(s.title))))),p&&g&&e.createElement(T.x,{paddingTop:3},e.createElement(f.k,{marginRight:8,justifyContent:"center",width:(0,o.Q1)(30)},e.createElement(J.Z,{type:k.hx,minHeight:(0,o.Q1)(24)}))))};w.defaultProps={currentStep:null,cta:void 0},w.propTypes={sectionIndex:c().number.isRequired,stepIndex:c().number.isRequired,hasSectionAfter:c().bool.isRequired,content:c().shape({id:c().string.isRequired,defaultMessage:c().string.isRequired}).isRequired,cta:c().shape({target:c().string,title:c().shape({id:c().string.isRequired,defaultMessage:c().string.isRequired})}),currentStep:c().string,onCtaClick:c().func.isRequired,title:c().shape({id:c().string.isRequired,defaultMessage:c().string.isRequired}).isRequired};var Fe=w;const de={stepContent:null,sectionIndex:null,stepIndex:null,hasSectionAfter:!1,hasStepAfter:!1};var Ke=(t=de,a)=>(0,z.ZP)(t,s=>{switch(a.type){case"UPDATE_MODAL":{s.stepContent=a.content,s.sectionIndex=a.newSectionIndex,s.stepIndex=a.newStepIndex,s.hasSectionAfter=a.newHasSectionAfter,s.hasStepAfter=a.newHasStepAfter;break}default:return s}}),$e=()=>{const{currentStep:t,guidedTourState:a,setCurrentStep:s,setStepState:i,isGuidedTourVisible:l,setSkipped:d}=(0,o.c1)(),[g,u]=(0,e.useState)(t),[{stepContent:h,sectionIndex:p,stepIndex:M,hasSectionAfter:W,hasStepAfter:$},Q]=(0,e.useReducer)(Ke,de),{trackUsage:B}=(0,o.rS)();(0,e.useEffect)(()=>{if(!t){u(!1);return}const[I]=te()(a,t);u(!I&&l)},[t,a,l]),(0,e.useEffect)(()=>{if(t){const[I]=te()(Re.Z,t),b=Object.keys(a),[G,m]=t.split("."),j=b.indexOf(G),U=Object.keys(a[G]).indexOf(m),_t=j<b.length-1,en=U<Object.keys(a[G]).length-1;Q({type:"UPDATE_MODAL",content:I,newSectionIndex:j,newStepIndex:U,newHasSectionAfter:_t,newHasStepAfter:en})}},[t,a]);const R=()=>{i(t,!0),B(h.trackingEvent),s(null)},H=()=>{d(!0),s(null),B("didSkipGuidedtour")};return g&&h?e.createElement(be,{hideSkip:!$&&!W,onSkip:H,onClose:R},e.createElement(Fe,{...h,onCtaClick:R,currentStep:t,sectionIndex:p,stepIndex:M,hasSectionAfter:W})):null},ce=n(2775),Qe=n(27277),He=n(65213),Ve=n(42203),q=n(14848),ue=n(17681),Ye=n(52242),Je=n(86267),Xe=n(19546),we=n(22356),qe=n(32880),K=n(14911);const _e=(0,P.ZP)(T.x)`
  width: ${150/16}rem;
  position: absolute;
  bottom: ${({theme:t})=>t.spaces[9]};
  left: ${({theme:t})=>t.spaces[5]};
`,pe=(0,P.ZP)(K.OL)`
  display: flex;
  justify-content: space-between;
  align-items: center;
  text-decoration: none;
  padding: ${({theme:t})=>`${t.spaces[2]} ${t.spaces[4]}`};
  border-radius: ${({theme:t})=>t.spaces[1]};

  &:hover {
    background: ${({theme:t,logout:a})=>a?t.colors.danger100:t.colors.primary100};
    text-decoration: none;
  }

  svg {
    path {
      fill: ${({theme:t})=>t.colors.danger600};
    }
  }
`,et=({generalSectionLinks:t,pluginsSectionLinks:a})=>{const s=e.useRef(null),[i,l]=e.useState(!1),{logos:{menu:d}}=(0,A.m)(),[g,u]=(0,o.Yw)("navbar-condensed",!1),{userDisplayName:h}=(0,o.L7)(),{formatMessage:p}=(0,Z.Z)(),{trackUsage:M}=(0,o.rS)(),{pathname:W}=(0,v.TH)(),$=(0,v.k6)(),{post:Q}=(0,o.tg)(),B=h.split(" ").map(m=>m.substring(0,1)).join("").substring(0,2),R=()=>l(m=>!m),H=async()=>{await Q("/admin/logout"),o.I8.clearAppStorage(),R(),$.push("/auth/login")},I=m=>{!m.currentTarget.contains(m.relatedTarget)&&m.relatedTarget?.parentElement?.id!=="main-nav-user-button"&&l(!1)},b=m=>{M("willNavigate",{from:W,to:m})},G=p({id:"app.components.LeftMenu.navbrand.title",defaultMessage:"Strapi Dashboard"});return(0,r.jsxs)(Qe.$,{condensed:g,children:[(0,r.jsx)(He.D,{as:K.OL,workplace:p({id:"app.components.LeftMenu.navbrand.workplace",defaultMessage:"Workplace"}),title:G,icon:(0,r.jsx)("img",{src:d.custom||d.default,alt:p({id:"app.components.LeftMenu.logo.alt",defaultMessage:"Application logo"})})}),(0,r.jsx)(ce.i,{}),(0,r.jsxs)(Ve._,{children:[(0,r.jsx)(q.O,{as:K.OL,to:"/content-manager",icon:(0,r.jsx)(we.Z,{}),onClick:()=>b("/content-manager"),children:p({id:"global.content-manager",defaultMessage:"Content manager"})}),a.length>0?(0,r.jsx)(ue.y,{label:p({id:"app.components.LeftMenu.plugins",defaultMessage:"Plugins"}),children:a.map(m=>{const j=m.icon;return(0,r.jsx)(q.O,{as:K.OL,to:m.to,icon:(0,r.jsx)(j,{}),onClick:()=>b(m.to),children:p(m.intlLabel)},m.to)})}):null,t.length>0?(0,r.jsx)(ue.y,{label:p({id:"app.components.LeftMenu.general",defaultMessage:"General"}),children:t.map(m=>{const j=m.icon;return(0,r.jsx)(q.O,{as:K.OL,badgeContent:m.notificationsCount&&m.notificationsCount>0?m.notificationsCount.toString():void 0,to:m.to,icon:(0,r.jsx)(j,{}),onClick:()=>b(m.to),children:p(m.intlLabel)},m.to)})}):null]}),(0,r.jsxs)(Ye.q,{children:[(0,r.jsx)(Je.r,{id:"main-nav-user-button",ref:s,onClick:R,initials:B,children:h}),i&&(0,r.jsx)(_e,{onBlur:I,padding:1,shadow:"tableShadow",background:"neutral0",hasRadius:!0,children:(0,r.jsx)(ae.i,{onEscape:R,children:(0,r.jsxs)(f.k,{direction:"column",alignItems:"stretch",gap:0,children:[(0,r.jsx)(pe,{tabIndex:0,onClick:R,to:"/me",children:(0,r.jsx)(y.Z,{children:p({id:"global.profile",defaultMessage:"Profile"})})}),(0,r.jsxs)(pe,{tabIndex:0,onClick:H,to:"/auth/login",children:[(0,r.jsx)(y.Z,{textColor:"danger600",children:p({id:"app.components.LeftMenu.logout",defaultMessage:"Logout"})}),(0,r.jsx)(qe.Z,{})]})]})})}),(0,r.jsx)(Xe.w,{onClick:()=>u(m=>!m),children:p(g?{id:"app.components.LeftMenu.expand",defaultMessage:"Expand the navbar"}:{id:"app.components.LeftMenu.collapse",defaultMessage:"Collapse the navbar"})})]})]})};var tt=n(601),nt=n(90230),at=n(19594),st=n(99381),ot=n.n(st),it=n(30305);const rt=()=>{const{allPermissions:t}=(0,o.vn)(),{shouldUpdateStrapi:a}=(0,o.L7)(),{menu:s}=(0,o.j1)(),i=(0,F.v9)(it._),[l,d]=e.useState({generalSectionLinks:[{icon:tt.Z,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:i.marketplace.main},{icon:nt.Z,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:i.marketplace.main},{icon:at.Z,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0}),g=e.useRef(l.generalSectionLinks);return e.useEffect(()=>{async function u(){const h=await dt(t,s),p=await lt(t,g.current,a);d(M=>({...M,generalSectionLinks:p,pluginsSectionLinks:h,isLoading:!1}))}u()},[d,g,t,s,i,a]),l},lt=async(t,a,s=!1)=>{const i=await Promise.all(a.map(({permissions:u})=>(0,o.qX)(t,u))),l=a.filter((u,h)=>i[h]),d=l.findIndex(u=>u.to==="/settings");if(d===-1)return[];const g=ot()(l);return g[d].notificationsCount=s?1:0,g},dt=async(t,a)=>{const s=await Promise.all(a.map(({permissions:l})=>(0,o.qX)(t,l)));return a.filter((l,d)=>s[d])};var ct=n(34197);const ut=(0,P.ZP)(T.x)`
  flex: 1;
`,me=({children:t,sideNav:a})=>{const{formatMessage:s}=(0,Z.Z)();return e.createElement(T.x,{background:"neutral100"},e.createElement(ct.z,null,s({id:"skipToContent",defaultMessage:"Skip to content"})),e.createElement(f.k,{alignItems:"flex-start"},a,e.createElement(ut,null,t)))};me.propTypes={children:c().node.isRequired,sideNav:c().node.isRequired};var pt=me,mt=n(4556),_=n(18129),gt=n(63208),ht=n(99320),ft=n(18981),Et=n(47372),yt=n(58518),vt=n.p+"19eb2dfcf2603eb55733.png",Ct=n(19999),Mt=n(39544);const Tt=[{label:{id:"app.components.Onboarding.link.build-content",defaultMessage:"Build a content architecture"},href:"https://www.youtube.com/watch?v=G9GjN0RxhkE",duration:"5:48"},{label:{id:"app.components.Onboarding.link.manage-content",defaultMessage:"Add & manage content"},href:"https://www.youtube.com/watch?v=DEZw4KbybAI",duration:"3:18"},{label:{id:"app.components.Onboarding.link.manage-media",defaultMessage:"Manage media"},href:"https://www.youtube.com/watch?v=-61MuiMQb38",duration:"3:41"}],ge={href:"https://www.youtube.com/playlist?list=PL7Q0DQYATmvidz6lEmwE5nIcOAYagxWqq",label:{id:"app.components.Onboarding.link.more-videos",defaultMessage:"Watch more videos"}},Pt=[{label:{id:"global.documentation",defaultMessage:"documentation"},href:"https://docs.strapi.io",icon:Ct.Z},{label:{id:"app.static.links.cheatsheet",defaultMessage:"cheatsheet"},href:"https://strapi-showcase.s3-us-west-2.amazonaws.com/CheatSheet.pdf",icon:Mt.Z}],St=(0,P.ZP)(Y.z)`
  border-radius: 50%;
  padding: ${({theme:t})=>t.spaces[3]};
  /* Resetting 2rem height defined by Button component */
  height: 100%;
`,xt=(0,P.ZP)(f.k)`
  transform: translate(-50%, -50%);
`,Lt=(0,P.ZP)(f.k)`
  text-decoration: none;

  :focus-visible {
    outline-offset: ${({theme:t})=>`-${t.spaces[1]}`};
  }

  :hover {
    background: ${({theme:t})=>t.colors.primary100};

    /* Hover style for the number displayed */
    ${y.Z}:first-child {
      color: ${({theme:t})=>t.colors.primary500};
    }

    /* Hover style for the label */
    ${y.Z}:nth-child(1) {
      color: ${({theme:t})=>t.colors.primary600};
    }
  }
`,At=P.ZP.img`
  width: ${({theme:t})=>t.spaces[10]};
  height: ${({theme:t})=>t.spaces[8]};
  /* Same overlay used in ModalLayout */
  background: ${({theme:t})=>`${t.colors.neutral800}1F`};
  border-radius: ${({theme:t})=>t.borderRadius};
`,he=(0,P.ZP)(y.Z)`
  /* line height of label and watch more to 1 so they can be better aligned visually */
  line-height: 1;
`,fe=(0,P.ZP)(he)`
  text-decoration: none;

  :hover {
    text-decoration: underline;
  }
`;var Rt=()=>{const t=(0,e.useRef)(),[a,s]=(0,e.useState)(!1),{formatMessage:i}=(0,Z.Z)(),{communityEdition:l}=(0,o.L7)(),d=()=>{s(u=>!u)},g=[...Pt,{label:{id:"Settings.application.get-help",defaultMessage:"Get help"},icon:ft.Z,href:l?"https://discord.strapi.io":"https://support.strapi.io/support/home"}];return e.createElement(T.x,{as:"aside",position:"fixed",bottom:2,right:2},e.createElement(St,{"aria-label":i(a?{id:"app.components.Onboarding.help.button-close",defaultMessage:"Close help menu"}:{id:"app.components.Onboarding.help.button",defaultMessage:"Open help menu"}),onClick:d,ref:t},e.createElement(_.J,{as:a?se.Z:Et.Z,color:"buttonNeutral0"})),a&&e.createElement(ne.h,null,e.createElement(gt.VY,{padding:0,onDimiss:d,source:t,placement:"top-end",spacing:12},e.createElement(f.k,{justifyContent:"space-between",paddingBottom:5,paddingRight:6,paddingLeft:6,paddingTop:6},e.createElement(he,{fontWeight:"bold"},i({id:"app.components.Onboarding.title",defaultMessage:"Get started videos"})),e.createElement(fe,{as:"a",href:ge.href,target:"_blank",rel:"noreferrer noopener",variant:"pi",textColor:"primary600"},i(ge.label))),e.createElement(ce.i,null),Tt.map(({href:u,duration:h,label:p},M)=>e.createElement(Lt,{as:"a",href:u,target:"_blank",rel:"noreferrer noopener",key:u,hasRadius:!0,paddingTop:4,paddingBottom:4,paddingLeft:6,paddingRight:11},e.createElement(T.x,{paddingRight:5},e.createElement(y.Z,{textColor:"neutral200",variant:"alpha"},M+1)),e.createElement(T.x,{position:"relative"},e.createElement(At,{src:vt,alt:""}),e.createElement(xt,{position:"absolute",top:"50%",left:"50%",background:"primary600",borderRadius:"50%",justifyContent:"center",width:6,height:6},e.createElement(_.J,{as:yt.Z,color:"buttonNeutral0",width:3,height:3}))),e.createElement(f.k,{direction:"column",alignItems:"start",paddingLeft:4},e.createElement(y.Z,{fontWeight:"bold"},i(p)),e.createElement(ht.T,null,":"),e.createElement(y.Z,{textColor:"neutral600",variant:"pi"},h)))),e.createElement(f.k,{direction:"column",alignItems:"stretch",gap:2,paddingLeft:5,paddingTop:2,paddingBottom:5},g.map(({label:u,href:h,icon:p})=>e.createElement(f.k,{gap:3,key:h},e.createElement(_.J,{as:p,color:"primary600"}),e.createElement(fe,{as:"a",href:h,target:"_blank",rel:"noreferrer noopener",variant:"sigma",textColor:"primary700"},i(u))))))))};const It=(0,e.lazy)(()=>Promise.all([n.e(3021),n.e(3019),n.e(9218),n.e(994)]).then(n.bind(n,41724))),Ot=(0,e.lazy)(()=>n.e(3981).then(n.bind(n,37668))),Dt=(0,e.lazy)(()=>n.e(3677).then(n.bind(n,91534))),bt=(0,e.lazy)(()=>Promise.all([n.e(7735),n.e(5516)]).then(n.bind(n,67603))),Ee=(0,e.lazy)(()=>Promise.resolve().then(n.bind(n,33248))),jt=(0,e.lazy)(()=>n.e(9501).then(n.bind(n,7703))),Wt=(0,e.lazy)(()=>n.e(9497).then(n.bind(n,94987))),ye=(0,e.lazy)(()=>n.e(5895).then(n.bind(n,87211)).then(t=>({default:t.SettingsPage}))),Zt=()=>{const{trackUsage:t}=(0,o.rS)(),a=(0,F.I0)(),s=(0,F.v9)(i=>i.admin_app.status);(0,e.useEffect)(()=>{s==="init"&&(t("didAccessAuthenticatedAdministration"),a({type:mt.eb}))},[s])};var kt=()=>{Zt();const{isLoading:t,generalSectionLinks:a,pluginsSectionLinks:s}=rt(),{menu:i}=(0,o.j1)(),{showTutorials:l}=(0,A.m)(),d=(0,e.useMemo)(()=>i.filter(g=>g.Component).map(({to:g,Component:u,exact:h})=>(0,D.ot)(u,g,h)),[i]);return t?e.createElement(o.dO,null):e.createElement(xe.DndProvider,{backend:Le.PD},e.createElement(pt,{sideNav:e.createElement(et,{generalSectionLinks:a,pluginsSectionLinks:s})},e.createElement(e.Suspense,{fallback:e.createElement(o.dO,null)},e.createElement(v.rs,null,e.createElement(v.AW,{path:"/",component:Ot,exact:!0}),e.createElement(v.AW,{path:"/me",component:Wt,exact:!0}),e.createElement(v.AW,{path:"/content-manager",component:It}),d,e.createElement(v.AW,{path:"/settings/:settingId",component:ye}),e.createElement(v.AW,{path:"/settings",component:ye,exact:!0}),e.createElement(v.AW,{path:"/marketplace"},e.createElement(bt,null)),e.createElement(v.AW,{path:"/list-plugins",exact:!0},e.createElement(Dt,null)),e.createElement(v.AW,{path:"/404",component:Ee}),e.createElement(v.AW,{path:"/500",component:jt}),e.createElement(v.AW,{path:"",component:Ee}))),e.createElement($e,null),l&&e.createElement(Rt,null)))};const Bt=()=>{const{plugins:t}=(0,o.j1)(),[{plugins:a},s]=e.useReducer(Gt,ve,()=>Ut(t)),i=e.useRef(d=>{s({type:"SET_PLUGIN_READY",pluginId:d})});if(Object.keys(a).some(d=>a[d].isReady===!1)){const d=Object.keys(a).reduce((g,u)=>{const h=a[u].initializer;if(h){const p=a[u].pluginId;g.push((0,r.jsx)(h,{setPlugin:i.current},p))}return g},[]);return(0,r.jsxs)(r.Fragment,{children:[d,(0,r.jsx)(o.dO,{})]})}return(0,r.jsx)(kt,{})},ve={plugins:{}},Gt=(t=ve,a)=>(0,z.ZP)(t,s=>{switch(a.type){case"SET_PLUGIN_READY":{Se()(s,["plugins",a.pluginId,"isReady"],!0);break}default:return s}}),Ut=t=>({plugins:Object.keys(t).reduce((a,s)=>(a[s]={...t[s]},a),{})});var Ce=n(82702);const Nt=()=>({type:Ce.l}),zt=t=>({type:Ce.m,permissions:t}),Me=({children:t,permissions:a,refetchPermissions:s})=>{const{allPermissions:i}=(0,F.v9)(d=>d.rbacProvider),l=(0,F.I0)();return(0,e.useEffect)(()=>(l(zt(a)),()=>{l(Nt())}),[a,l]),i?e.createElement(o.oL.Provider,{value:{allPermissions:i,refetchPermissions:s}},t):e.createElement(o.dO,null)};Me.propTypes={children:c().node.isRequired,permissions:c().array.isRequired,refetchPermissions:c().func.isRequired};var Ft=Me;const{get:ee}=(0,o.tg)(),Kt=async()=>{try{const{data:t,headers:a}=await ee("/admin/information");if(!a["content-type"].includes("application/json"))throw new Error("Not found");return t.data}catch(t){throw new Error(t)}},$t=async()=>{try{const{data:t,headers:a}=await ee("/admin/users/me/permissions");if(!a["content-type"].includes("application/json"))throw new Error("Not found");return t.data}catch(t){throw new Error(t)}},Qt=async()=>{try{const{data:{data:{roles:t}}}=await ee("/admin/users/me");return t}catch(t){throw new Error(t)}};var Ht=n(63433),Vt=n.n(Ht),Yt=n(34512),Te=n.n(Yt);const Jt=(t,a)=>!Te()(t)||!Te()(a)?!1:Vt()(t,a),Xt=S.i8,wt=async()=>{try{const t=await fetch("https://api.github.com/repos/strapi/strapi/releases/latest");if(!t.ok)throw new Error("Failed to fetch latest Strapi version.");const{tag_name:a}=await t.json();return a}catch{return Xt}},Pe=S.i8;var qt=()=>{const{setGuidedTourVisibility:t}=(0,o.c1)(),a=(0,o.lm)(),s=o.I8.getUserInfo(),i=O()(s,"username")||(0,D.Pp)(s.firstname,s.lastname),[l,d]=(0,e.useState)(i),[g,u]=(0,e.useState)(null),{showReleaseNotification:h}=(0,A.m)(),[{data:p,status:M},{data:W,isLoading:$},{data:Q,status:B,refetch:R,isFetching:H},{data:I}]=(0,E.useQueries)([{queryKey:"app-infos",queryFn:Kt},{queryKey:"strapi-release",queryFn:()=>wt(a),enabled:h,initialData:Pe},{queryKey:"admin-users-permission",queryFn:$t,initialData:[]},{queryKey:"user-roles",queryFn:Qt}]),b=Jt(Pe,W);return(0,e.useEffect)(()=>{I&&I.find(({code:U})=>U==="strapi-super-admin")&&p?.autoReload&&t(!0)},[I,p,t]),(0,e.useEffect)(()=>{(async()=>{const U=await(0,D.Qy)(s);u(U)})()},[s]),$||(H||M==="loading"||B==="loading")?e.createElement(o.dO,null):M==="error"?e.createElement("div",null,"error..."):e.createElement(o.iq,{...p,userId:g,latestStrapiReleaseTag:W,setUserDisplayName:d,shouldUpdateStrapi:b,userDisplayName:l},e.createElement(Ft,{permissions:Q,refetchPermissions:R},e.createElement(x.b,null),e.createElement(Bt,null)))}},79348:function(N,C,n){var e=n(32735),o=n(77981),L=n(59407),O=n(60216),E=n.n(O),S=n(47806);const A=({type:D,...x})=>e.createElement(o.x,{width:(0,L.Q1)(2),height:"100%",background:D===S.VM?"neutral300":"primary500",hasRadius:!0,...x});A.defaultProps={type:S.VM},A.propTypes={type:E().oneOf([S.lW,S.hx,S.VM])},C.Z=A},13856:function(N,C,n){var e=n(32735),o=n(84642),L=n(18129),O=n(8365),E=n(59407),S=n(40501),A=n(60216),D=n.n(A),x=n(47806);const r=({type:z,number:V})=>z===x.hx?e.createElement(o.k,{background:"primary600",padding:2,borderRadius:"50%",width:(0,E.Q1)(30),height:(0,E.Q1)(30),justifyContent:"center"},e.createElement(L.J,{as:S.Z,"aria-hidden":!0,width:(0,E.Q1)(16),color:"neutral0"})):z===x.lW?e.createElement(o.k,{background:"primary600",padding:2,borderRadius:"50%",width:(0,E.Q1)(30),height:(0,E.Q1)(30),justifyContent:"center"},e.createElement(O.Z,{fontWeight:"semiBold",textColor:"neutral0"},V)):e.createElement(o.k,{borderColor:"neutral500",borderWidth:"1px",borderStyle:"solid",padding:2,borderRadius:"50%",width:(0,E.Q1)(30),height:(0,E.Q1)(30),justifyContent:"center"},e.createElement(O.Z,{fontWeight:"semiBold",textColor:"neutral600"},V));r.defaultProps={number:void 0,type:x.VM},r.propTypes={number:D().number,type:D().oneOf([x.lW,x.hx,x.VM])},C.Z=r},47806:function(N,C,n){n.d(C,{VM:function(){return L},hx:function(){return o},lW:function(){return e}});const e="isActive",o="isDone",L="isNotDone"},75974:function(N,C){const n={contentTypeBuilder:{home:{title:{id:"app.components.GuidedTour.home.CTB.title",defaultMessage:"\u{1F9E0} Build the content structure"},cta:{title:{id:"app.components.GuidedTour.home.CTB.cta.title",defaultMessage:"Go to the Content type Builder"},type:"REDIRECT",target:"/plugins/content-type-builder"},trackingEvent:"didClickGuidedTourHomepageContentTypeBuilder"},create:{title:{id:"app.components.GuidedTour.CTB.create.title",defaultMessage:"\u{1F9E0} Create a first Collection type"},content:{id:"app.components.GuidedTour.CTB.create.content",defaultMessage:"<p>Collection types help you manage several entries, Single types are suitable to manage only one entry.</p> <p>Ex: For a Blog website, Articles would be a Collection type whereas a Homepage would be a Single type.</p>"},cta:{title:{id:"app.components.GuidedTour.CTB.create.cta.title",defaultMessage:"Build a Collection type"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep1CollectionType"},success:{title:{id:"app.components.GuidedTour.CTB.success.title",defaultMessage:"Step 1: Completed \u2705"},content:{id:"app.components.GuidedTour.CTB.success.content",defaultMessage:"<p>Good going!</p><b>\u26A1\uFE0F What would you like to share with the world?</b>"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"REDIRECT",target:"/content-manager"},trackingEvent:"didCreateGuidedTourCollectionType"}},contentManager:{home:{title:{id:"app.components.GuidedTour.home.CM.title",defaultMessage:"\u26A1\uFE0F What would you like to share with the world?"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"REDIRECT",target:"/content-manager"},trackingEvent:"didClickGuidedTourHomepageContentManager"},create:{title:{id:"app.components.GuidedTour.CM.create.title",defaultMessage:"\u26A1\uFE0F Create content"},content:{id:"app.components.GuidedTour.CM.create.content",defaultMessage:"<p>Create and manage all the content here in the Content Manager.</p><p>Ex: Taking the Blog website example further, one can write an Article, save and publish it as they like.</p><p>\u{1F4A1} Quick tip - Don't forget to hit publish on the content you create.</p>"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep2ContentManager"},success:{title:{id:"app.components.GuidedTour.CM.success.title",defaultMessage:"Step 2: Completed \u2705"},content:{id:"app.components.GuidedTour.CM.success.content",defaultMessage:"<p>Awesome, one last step to go!</p><b>\u{1F680}  See content in action</b>"},cta:{title:{id:"app.components.GuidedTour.CM.success.cta.title",defaultMessage:"Test the API"},type:"REDIRECT",target:"/settings/api-tokens"},trackingEvent:"didCreateGuidedTourEntry"}},apiTokens:{home:{title:{id:"app.components.GuidedTour.apiTokens.create.title",defaultMessage:"\u{1F680} See content in action"},cta:{title:{id:"app.components.GuidedTour.home.apiTokens.cta.title",defaultMessage:"Test the API"},type:"REDIRECT",target:"/settings/api-tokens"},trackingEvent:"didClickGuidedTourHomepageApiTokens"},create:{title:{id:"app.components.GuidedTour.apiTokens.create.title",defaultMessage:"\u{1F680} See content in action"},content:{id:"app.components.GuidedTour.apiTokens.create.content",defaultMessage:"<p>Generate an authentication token here and retrieve the content you just created.</p>"},cta:{title:{id:"app.components.GuidedTour.apiTokens.create.cta.title",defaultMessage:"Generate an API Token"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep3ApiTokens"},success:{title:{id:"app.components.GuidedTour.apiTokens.success.title",defaultMessage:"Step 3: Completed \u2705"},content:{id:"app.components.GuidedTour.apiTokens.success.content",defaultMessage:"<p>See content in action by making an HTTP request:</p><ul><li><p>To this URL: <light>https://'<'YOUR_DOMAIN'>'/api/'<'YOUR_CT'>'</light></p></li><li><p>With the header: <light>Authorization: bearer '<'YOUR_API_TOKEN'>'</light></p></li></ul><p>For more ways to interact with content, see the <documentationLink>documentation</documentationLink>.</p>"},trackingEvent:"didGenerateGuidedTourApiTokens"}}};C.Z=n},30305:function(N,C,n){n.d(C,{_:function(){return O}});var e=n(98178),o=n(69891);const L=()=>E=>E.admin_app||o.E,O=(0,e.P1)(L(),E=>E.permissions)}}]);
